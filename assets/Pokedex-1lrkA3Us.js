import{r as p,j as s}from"./main-rLVsvcBb.js";import{c as f}from"./clsx-2Jv0kmJG.js";const v=Array.from({length:25},(n,a)=>a),j=Array.from({length:6},(n,a)=>a),F={fire:"bg-[#FDDFDF]",grass:"bg-[#DEFDE0]",electric:"bg-[#FCF7DE]",water:"bg-[#DEF3FD]",ground:"bg-[#f4e7da]",rock:"bg-[#d5d5d4]",fairy:"bg-[#fceaff]",poison:"bg-[#98d7a5]",bug:"bg-[#f8d5a3]",dragon:"bg-[#97b3e6]",psychic:"bg-[#eaeda1]",flying:"bg-[#F5F5F5]",fighting:"bg-[#E6E0D4]",normal:"bg-[#F5F5F5]"},d=[],x=6;let i=0;const q=n=>{i<x?b(n):d.push(n)},b=n=>{i++,n().then(()=>{i--,g()}).catch(()=>{i--,g()})},g=()=>{d.length>0&&i<x&&b(d.shift())},E=()=>{const[n,a]=p.useState(()=>new Array(150).fill(null)),m=p.useRef(new Array(150)),h=r=>fetch("https://beta.pokeapi.co/graphql/v1beta",{method:"POST",body:JSON.stringify({query:`query samplePokeAPIquery {
        pokemon_v2_pokemonsprites(where: {id: {_eq: ${r}}}) {
          pokemon_v2_pokemon {
            name
            pokemon_v2_pokemontypes {
              pokemon_v2_type {
                name
              }
            }
          }
          sprites
        }
      }`})}).then(t=>t.status===200?t.json():Promise.reject());return p.useEffect(()=>{const r=new IntersectionObserver(t=>{for(const o of t)if(o.intersectionRatio>0){const e=o.target.getAttribute("data-pokemonid");e&&(q(()=>{const c=parseInt(e);return h(c).then(y=>{const{pokemon_v2_pokemon:l,sprites:k}=y.data.pokemon_v2_pokemonsprites[0];a(_=>{const u=[..._];return u[c-1]={name:l.name,type:l.pokemon_v2_pokemontypes[0].pokemon_v2_type.name,coverUrl:JSON.parse(k).front_default},u})})}),o.target.removeAttribute("data-pokemonid"),r.unobserve(o.target))}});m.current.forEach(t=>{t&&r.observe(t)})},[]),s.jsxs("div",{className:"min-h-full bg-[linear-gradient(to_right,#d4d3dd,#efefbb)]",children:[s.jsx("h2",{className:"font-bold text-center text-[24px] py-4",children:"Pokedex"}),v.map(r=>s.jsx("div",{className:f("flex items-center gap-x-5 justify-center",r>0?"mt-5":""),children:j.map(t=>{const o=r*6+t,e=n[o];return s.jsxs("div",{className:f(e?F[e.type]:""," p-5 rounded-lg shadow-[0_3px_15px_rgba(100,100,100,.5)]"),ref:c=>{c&&(m.current[o]=c)},"data-pokemonid":o+1,children:[s.jsx("div",{className:"w-[120px] h-[120px] rounded-full bg-[rgba(255,255,255,.6)] overflow-hidden",children:s.jsx("img",{src:e==null?void 0:e.coverUrl,className:"w-full"})}),s.jsxs("div",{className:"mt-5 flex flex-col items-center",children:[s.jsxs("div",{className:"text-[12px] bg-[rgba(0,0,0,.1)] rounded-md px-2 py-[2px]",children:["#",(r*6+t+1).toString().padStart(3,"0")]}),s.jsx("h3",{className:" mt-4 text-[18px] font-bold text-center",children:e?e.name:"..."}),s.jsx("p",{className:"text-center text-[13px] mt-2",children:e?`Type:${e.type}`:"Type:..."})]})]},t)})},`${r}`))]})};export{E as default};
